<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="my.css">
</head>
<body>
    <div class="container">
        <img src="book.png" width="40" alt="Book Icon">
        <h1>친구 리스트 목록</h1>
        <p>
            <button class="hand-cursor" onclick="location.href='index.html'">홈으로 돌아가기</button>
        </p>
    </div>
    <h1>게시물 수정</h1>
    <form id="addForm" action="index.html">
        <label for="name">이름:</label>
        <input type="text" id="name" name="name"><br><br>

        <label for="studentId">학번:</label>
        <input type="text" id="studentId" name="studentId"><br><br>

        <label for="department">학과:</label>
        <input type="text" id="department" name="department"><br><br>

        <label for="gender">성별:</label>
        <input type="radio" id="male" name="gender" value="남성">
        <label for="male">남성</label>
        <input type="radio" id="female" name="gender" value="여성">
        <label for="female">여성</label><br><br>

        <label for="age">나이:</label>
        <input type="number" id="age" name="age"><br><br>

        <label for="hometown">고향:</label>
        <input type="text" id="hometown" name="hometown"><br><br>

        <button class="hand-cursor" onclick="return validateForm()" type="submit">추가</button>
    </form>

    <script> 
        function loadPreviousInfo() {
            var previousInfo = {
                name: "이름",
                studentId: "학번",
                department: "학과",
                gender: "남성", 
                age: 20, 
                hometown: "고향"
            };

            var savedInfo = localStorage.getItem("previousInfo");
            if (savedInfo) {
                previousInfo = JSON.parse(savedInfo);
            }
            document.getElementById("name").value = previousInfo.name;
            document.getElementById("studentId").value = previousInfo.studentId;
            document.getElementById("department").value = previousInfo.department;

            if (previousInfo.gender === "남성") {
                document.getElementById("male").checked = true;
            } else {
                document.getElementById("female").checked = true;
            }

            document.getElementById("age").value = previousInfo.age;
            document.getElementById("hometown").value = previousInfo.hometown;
        }

        window.onload = function () {
            loadPreviousInfo();
        }
        function validateForm() {
            var name = document.getElementById("name").value;
            var studentId = document.getElementById("studentId").value;
            var department = document.getElementById("department").value;
            var gender = document.querySelector('input[name="gender"]:checked');
            var age = document.getElementById("age").value;
            var hometown = document.getElementById("hometown").value;

            if (name === "" || studentId === "" || department === "" || !gender || age === "" || hometown === "") {
                alert("모든 필수 항목을 입력하세요.");
            
                return false;
            }

            if (isNaN(age) || age <= 0) {
                alert("나이를 올바르게 입력하세요.");
                return false;
            }

            call_confirm()

            return true;
        }
    
        function call_confirm(){
	
            if(confirm("수정하시겠습니까?")){
                alert("정상적으로 수정되었습니다.");
            }else{
            alert("수정에 실패하였습니다.");
            }

        }
    </script>
</body>
</html>